---
# better make this a proper variable. needs to be the same in two locations
keycloak_realm:
  enabled: true
  realm: "{{ keycloak_realm }}"
  verifyEmail: true
  resetPasswordAllowed: true
  #smtpServer:
  #  starttls: true
  #  auth: true
  #  port: "{{ keycloak_smtp_port }}"
  #  host: "{{ keycloak_smtp_host }}"
  #  from: "{{ keycloak_smtp_from }}"
  #  ssl: false
  #  user: "{{ keycloak_smtp_user_name }}"
  #  password: "{{ keycloak_smtp_password }}"
  internationalizationEnabled: true
  defaultLocale: "de"
  supportedLocales:
    - "de"

keycloak_traefik_dynamic_config:
  http:
    routers:
      keycloak:
        rule: "Host(`{{keycloak_server_name}}`)"
        entrypoints: websecure
        service: keycloak
    services:
      keycloak:
        loadBalancer:
          servers:
            - url: http://keycloak:8080

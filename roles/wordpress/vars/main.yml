---
wordpress_secrets:
  wordpress_staging_admin_password: "{{ wordpress_staging_admin_password | default(lookup('ansible.builtin.password', '/dev/null length=32 chars=ascii_letters,digits')) }}"
  wordpress_staging_mysql_password: "{{ wordpress_staging_mysql_password | default(lookup('ansible.builtin.password', '/dev/null length=32 chars=ascii_letters,digits')) }}"
  wordpress_prod_admin_password: "{{ wordpress_prod_admin_password | default(lookup('ansible.builtin.password', '/dev/null length=32 chars=ascii_letters,digits')) }}"
  wordpress_prod_mysql_password: "{{ wordpress_prod_mysql_password | default(lookup('ansible.builtin.password', '/dev/null length=32 chars=ascii_letters,digits')) }}"

wordpress_prod_traefik_dynamic_config:
  http:
    routers:
      wordpress_prod:
        rule: "Host(`{{wordpress_prod_service_name}}`)"
        entrypoints: websecure
        service: wordpress_prod
        tls:
          certresolver: letsencrypt
    services:
      wordpress_prod:
        loadBalancer:
          servers:
            - url: "http://{{wordpress_prod_service_name|replace('.', '')}}_wordpress_1"

wordpress_staging_traefik_dynamic_config:
  http:
    routers:
      wordpress_staging:
        rule: "Host(`{{wordpress_staging_service_name}}`)"
        entrypoints: websecure
        service: wordpress_staging
        tls:
          certresolver: letsencrypt
    services:
      wordpress_staging:
        loadBalancer:
          servers:
            - url: "http://{{wordpress_staging_service_name|replace('.', '')}}_wordpress_1"

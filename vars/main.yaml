---

traefik_static_config:
  api:
    dashboard: true
    insecure: false
  providers:
    file:
      directory: /etc/traefik/conf.d
      watch: true
  entryPoints: "{{ traefik_entry_points }}"
  certificatesResolvers: "{{ traefik_certificates_resolvers }}"

traefik_tls_config:
  tls:
    options:
      default:
        minVersion: VersionTLS12

      mintls13:
        minVersion: VersionTLS13

traefik_dashboard_dynamic_config:
  http:
    routers:
      traefik:
        rule: "Host(`{{traefik_dashboard_hostname}}`)"
        entrypoints: websecure
        tls:
          certresolver: letsencrypt
        service: api@internal

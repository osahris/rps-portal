---
traefik_config_directory: /etc/traefik
traefik_ssl_certs_docker_volume_name: traefik-ssl-certs
traefik_proxy_network: proxy
traefik_dashboard_dynamic_config_tls_certresolver: letsencrypt-staging

traefik_entry_points:
  web:
    address: ":80"
    http:
      redirections:
        entryPoint:
          to: websecure
          scheme: https
  websecure:
    address: ":443"
    # proxyProtocol:
    #   trustedIPs: "{{traefik_websecure_proxy_protocol_trusted_ips}}"

traefik_certificates_resolvers:
  letsencrypt:
    acme:
      email: '{{ letsencrypt_account_email }}'
      storage: "/ssl-certs/acme.json"
      tlsChallenge: true
      caServer: "https://acme-v02.api.letsencrypt.org/directory"
  letsencrypt-staging:
    acme:
      email: '{{ letsencrypt_account_email }}'
      storage: "/ssl-certs/acme.json"
      tlsChallenge: true
      caServer: "https://acme-staging-v02.api.letsencrypt.org/directory"
  step-ca:
    acme:
      email: '{{ stepca_email }}'
      storage: "/ssl-certs/acme.json"
      tlsChallenge: true
      caServer: '{{ stepca_server_url }}'
  # letsencrypt-http:
  #   acme:
  #     email: '{{ letsencrypt_account_email }}'
  #     storage: "/ssl-certs/acme.json"
  #     httpChallenge:
  #       entryPoint: web
  #     caServer: "https://acme-v02.api.letsencrypt.org/directory"
  # letsencrypt-staging-http:
  #   acme:
  #     email: '{{ letsencrypt_account_email }}'
  #     storage: "/ssl-certs/acme.json"
  #     httpChallenge:
  #       entryPoint: web
  #     caServer: "https://acme-staging-v02.api.letsencrypt.org/directory"

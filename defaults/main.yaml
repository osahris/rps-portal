---

discourse_server_name: "{{ inventory_hostname }}"

locales:
  lang: de_DE.UTF-8
  language: de

discourse_version: stable

discourse_postgres_db_default_text_search_config: pg_catalog.german

discourse_smtp_port: 587

discourse_mail_domain: "{{ discourse_server_name }}"

discourse_web_ratelimited: true
discourse_mail_reveiver_tls_enabled: false
discourse_https_host: false

discourse_validate_certs: yes

discourse_api_username: system

discourse_open_id_protocol: "https"
discourse_open_id_hostname: "{{ hostvars[groups['keycloak_servers'][0]].inventory_hostname }}"
discourse_open_id_discovery_uri: "{{ discourse_open_id_protocol }}://{{ discourse_open_id_hostname }}/auth/realms/{{ discourse_keycloak_realm_name }}/.well-known/openid-configuration"

discourse_keycloak_realm_name: users

discourse_keycloak_frontend_url: "{{ discourse_open_id_protocol }}://{{ discourse_open_id_hostname }}/auth"
discourse_keycloak_redirect_protocol: "https"
discourse_keycloak_redirect_hostname: "{{ discourse_server_name }}"
discourse_keycloak_redirect_uri: "{{ discourse_keycloak_redirect_protocol }}://{{ discourse_keycloak_redirect_hostname }}/auth/oidc/callback"

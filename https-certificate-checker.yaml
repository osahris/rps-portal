---

- hosts: all
  gather_facts: false
  tasks:
    - name: ensure server names are in the https certificate checker list
      local_action: lineinfile
      args:
        line: "{{hostvars[inventory_hostname][item]}}"
        path: ~/https-certificate-checker/list
      when: item in hostvars[inventory_hostname]
      loop:
        - nextcloud_server_name
        - discourse_server_name
        - proskive_server_name
        - keycloak_server_name
        - loomio_server_name
        - rps_sync_services_server_name
        - alerta_server_name
        - postfixadmin_server_name
        - reverse_proxy_server_name
        - rps_admin_web_interface_server_name
        - static_website_server_name
        - collabora_server_name
        - wordpress_server_name
        - netdata_server_name
